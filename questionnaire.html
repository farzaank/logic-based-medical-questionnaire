
<html>
<head>
  <title></title>
  <meta charset="UTF-8">
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  <script src="http://epilog.stanford.edu//epilog/javascript/epilog.js"></script>
  <script src="http://epilog.stanford.edu//worksheets/javascript/worksheets.js"></script>
        <script src="http://epilog.stanford.edu//worksheets/widgets/charts.js"></script></head>
<body onload="initialize()">
<table class="content-center" style="margin: 0px auto; width: 500px;">
  <tbody>

    <tr>
      
    <td colspan="4"><a href="https://vaden.stanford.edu/"><img src="header.png" alt="Vaden Health Services" width="375" height="50" style="margin: 0px auto;"></a>
    </tr>
    <tr>
      <td colspan="4"><span style="font-size:20px;"><strong>&nbsp;Clinician Recommendation Form&nbsp;</strong>
    </tr>

    <tr>
      <td colspan="4" style="color: black;"><em>&nbsp;What you describe as your primary medical concerns?</em></td>
    </tr>
    <tr>
      <td colspan="4" id="c1" style="color: red;"><em>&nbsp; - Please select at least one concern</em></td>
    </tr>
    <tr>
      <td colspan="4">
      <table border="0" cellpadding="0" cellspacing="0" style="width: 100%; border-collapse: collapse; margin: 0px auto; font-family: HelveticaNeue-Light, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">
        <tbody>
          <tr>
            <td id="row(gennutrition)" style="width: 25%; background-color: rgba(239, 72, 54, 0.298039);"><input id="gennutrition" onchange="modcheck(this)" type="checkbox" />&nbsp;General Nutrition</td>
            <td id="row(depression)" style="width: 25%; background-color: rgba(34, 167, 240, 0.298039);"><input id="depression" onchange="modcheck(this)" type="checkbox" />&nbsp;Depression</td>
            <td id="row(diarrhea)" style="width: 25%; background-color: rgba(34, 167, 240, 0.298039);"><input id="diarrhea" onchange="modcheck(this)" type="checkbox">&nbsp;Diarrhea</td>
          </tr>
          <tr>
            <td id="row(itch)" style="width: 25%; background-color: rgba(239, 72, 54, 0.298039);"><input id="itch" onchange="modcheck(this)" type="checkbox" />&nbsp;Itch</td>
            <td id="row(wheeze)" style="width: 25%; background-color: rgba(239, 72, 54, 0.298039);"><input id="wheeze" onchange="modcheck(this)" type="checkbox" />&nbsp;Wheeze</td>
            <td id="row(fever)" style="width: 25%; background-color: rgba(239, 72, 54, 0.298039);"><input id="fever" onchange="modcheck(this)" type="checkbox" />&nbsp;Fever</td>
          </tr>
          <tr>
            <td id="row(anxiety)" style="background-color: rgba(34, 167, 240, 0.298039);"><input id="anxiety" onchange="modcheck(this)" type="checkbox" />&nbsp;Anxiety</td>
          </tr>
        </tbody>
      </table>
      <tr>
      <td id="row(askloc)" style=""><input id="askloc" onchange="modcheck(this)" type="checkbox" />&nbsp;Do you have a location preference?</td>
    </tr>
    <tr>
      <td id="row(asktime)" style=""><input id="asktime" onchange="modcheck(this)" type="checkbox" />&nbsp;Do you have a time preference?</td>
    </tr>
      </td>
    </tr>
    <tr style="vertical-align: top;">
      <td colspan="4">
      <table border="0" cellpadding="0" cellspacing="0" style="width: 100%;">
        <tbody>
          <tr style="vertical-align: top;">
            <td>
          <tr>
            <td id="row(showcats)" style="background-color: rgba(34, 167, 240, 0.298039);"><input id="showcats" onchange="modcheck(this)" type="checkbox" />&nbsp;Show care topic categories?</td>
          </tr>
          <tr>
            <td id="row(showrecs)" style="background-color: rgba(34, 167, 240, 0.298039);"><input id="showrecs" onchange="modcheck(this)" type="checkbox"/>&nbsp;Show care provider recommendations?</td>
          </tr>
              <chart chart-line-color="white" class="chart" widget="chart" style="display: none;" chart-table="area" chart-type="pie" chart-title="Medical Categories" chart-y-axis-title="" chart-x-axis-title="" chart-color="" chart-data-range-labels="" chart-grid-lines="none" chart-legend="bottom" chart-line-width="" id="chart" ><canvas></canvas></chart>
            </td>          <td>
              <table border="0" cellpadding="0" cellspacing="0" type='table' id="doctortab" style="width: 200px; font-family: HelveticaNeue-Light, 'Helvetica Neue', Helvetica, sans-serif; margin: 0px auto; text-align: center; visibility: hidden;">
                <thead>
                  <tr>
                    <th displaystyle="stringfield">Doctor</th>
                    <th># Matches</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
</div>

<textarea id="lambda" style="display:none;" type="text/hrf">
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Data
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

medcat("adolescent")
medcat("dermatology")
medcat("preventive")
medcat("sports")
medcat("travel")
medcat("urgent")
medcat("women")
medcat("mental")
medcat("nutrition")

concern(gennutrition,"nutrition")
concern(eatdisorder,"nutrition")
concern(rash,"dermatology")
concern(acne,"dermatology")
concern(genskin,"dermatology")
concern(sinjury,"sports")
concern(sperformance,"sports")
concern(fever,"urgent")

concern(wheeze,"COVID")
concern(fever,"Primary Care")
concern(fever,"COVID")
concern(depression,"Mental Health")
concern(anxiety,"Mental Health")
concern(itch,"Allergy")
concern(itch,"Primary Care")
concern(diarrhea,"Primary Care")

value(units(gennutrition),3)
value(units(depression),3)
value(units(diarrhea),3)
value(units(itch),3)
value(units(fever),3)
value(units(wheeze),3)
value(units(anxiety),3)

doctor("COLLOFF")
doctor("CUA")
doctor("CURRY")
doctor("DAWSON")
doctor("FARID")
doctor("GERSHON")
doctor("HONG")
doctor("KASTELEIN")
doctor("LAI")
doctor("LOMMEL")
doctor("MARANIA")
doctor("MARTIN")
doctor("PARK")
doctor("PENDLEY")
doctor("RICHARDS")
doctor("RODDEN")
doctor("STOLL")
doctor("TEPPER")
doctor("VU-NGUYEN")
doctorCats("COLLOFF",["preventive"])
doctorCats("CUA",["urgent","women"])
doctorCats("CURRY",["adolescent","preventive"])
doctorCats("DAWSON",["preventive","women"])
doctorCats("FARID",["dermatology","preventive","women"])
doctorCats("GERSHON",["preventive"])
doctorCats("HONG",["adolescent"])
doctorCats("KASTELEIN",["preventive","sports","women"])
doctorCats("LAI",["preventive"])
doctorCats("LOMMEL",["adolescent","women"])
doctorCats("MARANIA",["sports"])
doctorCats("MARTIN",["adolescent","sports","urgent"])
doctorCats("PARK",["preventive","sports"])
doctorCats("PENDLEY",["preventive"])
doctorCats("RICHARDS",["travel"])
doctorCats("RODDEN",["preventive","sports","women"])
doctorCats("STOLL",["adolescent","preventive","travel"])
doctorCats("TEPPER",["adolescent","women"])
doctorCats("VU-NGUYEN",["adolescent","women"])


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Rules
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
</textarea>

<textarea id="library" style="display:none;" type="text/hrf">
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Rules
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
medcat("adolescent")
medcat("dermatology")
medcat("preventive")
medcat("sports")
medcat("travel")
medcat("urgent")
medcat("women")
medcat("mental")
medcat("nutrition")


photo("Karen Pendley, RN, BSN","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Edwin Colloff, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/ed_colloff_0_0.jpeg?h=9a223a1b&itok=cU1EsdFK")
photo("Julie Richards, NP, CTH","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/julie_0_0.jpeg?h=804a83ea&itok=_NY7PAzn")
photo("Nancy Stoll, RN, MS, BC","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/nancy_0_0.jpeg?h=92748315&itok=da5q70R5")
photo("Laurel Dawson, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/larurel_0.jpeg?h=cee2c3b2&itok=HAFUwBdr")
photo("Ann Vu-Nguyen, MSN, FNP","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/ann_v_0.jpeg?h=4e4b0e22&itok=CxkStHng")
photo("Michele Kastelein, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/michelle_k_0_0.jpeg?h=4f6395cb&itok=awtDUbT1")
photo("Robyn S. Tepper, MD, FAAFP","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/robyn_0_0.jpeg?h=a40292f0&itok=dlYDxiHL")
photo("Ammie Wilson Rodden, PA-C","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/ammie_rodden_0_0.jpeg?h=96e442c5&itok=9vC22dUc")
photo("Lisa Lommel, RN, PhD, FNP, MPH","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Diana Farid, MD, MPH","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/diana_farid_headshot_0.jpeg?h=6cfcc0b6&itok=1h1Gg5HF")
photo("Doug D. Marania, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/doug_0_0.jpeg?h=48751c22&itok=UTeP5GK3")
photo("Sandy Lai, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/sandy_0_0.jpeg?h=92748315&itok=AAKMTNj4")
photo("Margaret Curry, RN, CTH","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/magaret_curry_0_0.jpeg?h=4565adf5&itok=hksQuSmf")
photo("Racquel Cua, PA","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Danielle Hong, RN","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Susanne Martin, MD","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Swon Park, RN","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")
photo("Megan Gershon, RN","https://vaden.stanford.edu/sites/g/files/sbiybj20746/files/styles/medium_square/public/media/image/stanford-person-default-profile-image.png?h=55541bb6&itok=nW2Kv8t1")

area(AREA,N) :-
  concern(X,AREA) &
  setofall([V,EXP], concern(EXP,AREA)&value(EXP,true)& value(units(EXP),V),S) &
  map(first,S,L) &
  sum(L,N)

rows(doctor,L) :- setofall(doctor(T,N),doctor(T,N),L)

doctorOLD(T,N) :-
  treats(DOCTOR,X) &
  countofall(TAG,treats(DOCTOR,TAG)&value(TAG,true),N) &
  min(N,1,1) &
  photo(DOCTOR,PHOTO) &
  stringappend("<img src=&#39;",PHOTO,"&#39; width=&#39;70&#39; height=&#39;70&#39; title=&#39;",DOCTOR,"&#39;/>",T)

doctortab(T,1) :-
  photo(DOCTOR,PHOTO) &
  stringappend("<img src=&#39;",PHOTO,"&#39; width=&#39;70&#39; height=&#39;70&#39; title=&#39;",DOCTOR,"&#39;/>",T)

style(doctor,visibility,visible) :- value(showrecs,true)
style(doctor,visibility,hidden) :- ~value(showrecs,true)

style(row(X),"background-color","rgba(255, 228, 242, 0.8)") :- bcolor(none,X)

style(d(X),display,"table-row") :-
  concern(X,Y) &
  value(X,true)

style(d(X),display,none) :-
  course(X,Y) &
  ~value(X,true)

style(chart,display,"block") :-
  value(showcats,true)

style(chart,display,none) :-
  ~value(showcats,true) 

innerhtml(u(X),V) :-
  concern(X,Y) &
  value(X,true) &
  value(units(X),V)

totalunits(T) :- 
  setofall([V,X,Y],
    teaches(Y,X) & 
    value(X,true) & 
    value(units(X),V), S) &
  map(first,S,L) &
  sum(L,T)

innerhtml(t,T) :- totalunits(T)

satisfied(c1) :-
  countofall([X,Y], teaches(Y,X) & value(X,true), C) &
  min(C,6,6)

satisfied(c2) :- 
  countofall([X,Z,C],
    quarter(X,Z) & 
    countofall(Y,quarter(X,Y) & value(Y,true),C) & 
    min(C,4,4), 0)

first(X!Y,X)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

style(R,color,red) :- req(R) & ~satisfied(R)
style(R,color,black) :- req(R) & satisfied(R)

req(c1)
req(c2)

value(units(X),1) :: concern(X)

select(X,true) :: ~value(X,false) & value(X,true)
select(X,false) :: ~value(X,true) & value(X,false)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
</textarea>

</body>

</html>

